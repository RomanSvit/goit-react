(this.webpackJsonpsearchpic=this.webpackJsonpsearchpic||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__uyB3S",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1UpEP"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__1C9J_",Modal:"Modal_Modal__27lQb"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3YhpN"}},27:function(e,t,a){e.exports={Button:"Button_Button__1ELao"}},30:function(e,t,a){e.exports={App:"App_App__1N9Vc"}},31:function(e,t,a){e.exports=a(83)},4:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2rMjR",SearchForm:"Searchbar_SearchForm__CkMM2","SearchForm-button":"Searchbar_SearchForm-button__3GlGY","SearchForm-button-label":"Searchbar_SearchForm-button-label__2G0Wp","SearchForm-input":"Searchbar_SearchForm-input__bE__U"}},83:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(24),l=a.n(o),s=a(14),i=a(3),u=a.n(i),m=a(11),h=a(6),p=a(7),d=a(9),g=a(8),f=a(10),b=a(4),y=a.n(b),v=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={query:""},a.handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(1,a.state.query),a.setState({query:""}),e.target.children[1].value=""},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state.query;return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:y.a.Searchbar},c.a.createElement("form",{className:y.a.SearchForm,onSubmit:this.handleSubmit},c.a.createElement("button",{type:"submit",className:y.a.SearchFormButton},c.a.createElement("span",{className:y.a.SearchFormButtonLabel},"Search")),c.a.createElement("input",{className:y.a.SearchFormInput,type:"text",value:e,onChange:this.handleChange,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}))))}}]),t}(r.Component),_=a(12),S=a.n(_),I=function(e){var t=e.item,a=t.smallImage,n=t.tags,r=t.id;return c.a.createElement(c.a.Fragment,null,c.a.createElement("li",{className:S.a.ImageGalleryItem},c.a.createElement("img",{id:r,src:a,alt:n,className:S.a.ImageGalleryItemImage})))},E=a(25),k=a.n(E),w=a(26),O=a.n(w),F=function(e){var t=e.arr;return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:k.a.ImageGallery},t.map((function(e){return c.a.createElement(I,{key:O.a.generate(),item:e})}))))},C=a(27),M=a.n(C),x=function(e){var t=e.onClickButton;return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:t,type:"button",className:M.a.Button},"Load more"))},G=a(28),j=a.n(G),B=a(29),N=a.n(B),L=a(13),A=a.n(L),q=function(e){var t=e.onClick,a=e.reference;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:A.a.Overlay,onClick:t},c.a.createElement("div",{className:A.a.Modal},c.a.createElement("img",{src:a,alt:""}))))},U=a(30),P=a.n(U),D="https://pixabay.com/api/",J="15195208-d8c95381bc23262c5b7732742",K={margin:"0 auto"},R=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(c)))).state={articles:[],isModalOpen:!1,loading:!0,currentImage:"",per_page:12,page:1},a.openModal=function(){return a.setState({isModalOpen:!0})},a.closeModal=function(){return a.setState({isModalOpen:!1})},a.fetchArticles=function(){var e=Object(m.a)(u.a.mark((function e(){var t,a,r,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,(a=c.length>1?c[1]:void 0)&&(n=a),e.prev=3,e.next=6,j.a.get("".concat(D,"?q=").concat(n,"&page=").concat(t,"&key=").concat(J,"&image_type=photo&orientation=horizontal&per_page=12"));case 6:return r=e.sent,e.abrupt("return",r.data.hits);case 10:throw e.prev=10,e.t0=e.catch(3),console.log("this error -",e.t0),new Error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),a.transform=function(e){return e.map((function(e){return{id:e.id,smallImage:e.webformatURL,largeImage:e.largeImageURL}}))},a.handleFetchGallery=function(){var e=Object(m.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.fetchArticles(t,n);case 3:r=e.sent,a.setState({articles:a.transform(r),isLoading:!1}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a.setState({error:e.t0}),console.log(e.t0);case 11:window.addEventListener("keydown",a.handleKeyPress);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),a.handleButton=Object(m.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({isLoading:!0}),t=a.state.page+1,e.next=4,a.fetchArticles(t);case 4:n=e.sent,a.setState((function(e){return{articles:[].concat(Object(s.a)(e.articles),Object(s.a)(a.transform(n))),page:t,isLoading:!1}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"});case 7:case"end":return e.stop()}}),e)}))),a.handleClickBox=function(e){var t=a.state.articles.find((function(t){return parseInt(t.id)===parseInt(e.target.id)}));t&&(a.setState({currentImage:t.largeImage}),a.openModal())},a.handleKeyPress=function(e){"Escape"===e.code&&a.closeModal()},a.handleBackdropClick=function(e){return e.target===e.currentTarget&&a.closeModal()},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.page;this.handleFetchGallery(e,"all")}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.handleButton,t=this.state,a=t.articles,n=t.isLoading,r=t.isModalOpen,o=t.currentImage;return c.a.createElement("div",{className:P.a.App,onClick:this.handleClickBox},c.a.createElement(v,{onSubmit:this.handleFetchGallery}),a.length>0&&c.a.createElement(F,{arr:a}),n&&c.a.createElement(N.a,{style:K,type:"ThreeDots",color:"#somecolor",height:80,width:80}),a.length>0&&c.a.createElement(x,{onClickButton:e}),r&&c.a.createElement(q,{onClose:this.closeModal,onClick:this.handleBackdropClick,reference:o}))}}]),t}(r.Component);l.a.render(c.a.createElement(R,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ee51bfe1.chunk.js.map