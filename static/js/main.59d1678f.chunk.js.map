{"version":3,"sources":["components/imageGallery/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/App.module.css","components/searchbar/Searchbar.module.css","components/App.js","components/searchbar/Searchbar.js","components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/modal/Modal.js","index.js"],"names":["module","exports","currentquery","Searchbar","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","children","this","className","css","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","item","smallImage","tags","id","src","alt","ImageGalleryItemImage","ImageGallery","arr","map","elem","key","shortid","generate","Button","onClickButton","onClick","Modal","reference","Overlay","BASE_URL","KEY","loaderCss","margin","App","articles","isModalOpen","loading","currentImage","per_page","page","openModal","closeModal","fetchArticles","a","axios","get","data","hits","console","log","Error","transform","webformatURL","largeImage","largeImageURL","handleFetchGallery","isLoading","error","window","addEventListener","handleKeyPress","handleButton","nextPage","prevState","handleClickBox","fined","find","parseInt","code","handleBackdropClick","currentTarget","removeEventListener","loadMore","length","style","color","height","width","onClose","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.59d1678f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__uyB3S\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1UpEP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1C9J_\",\"Modal\":\"Modal_Modal__27lQb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3YhpN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ELao\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1N9Vc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2rMjR\",\"SearchForm\":\"Searchbar_SearchForm__CkMM2\",\"SearchForm-button\":\"Searchbar_SearchForm-button__3GlGY\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__2G0Wp\",\"SearchForm-input\":\"Searchbar_SearchForm-input__bE__U\"};","import React, { Component } from \"react\";\nimport Searchbar from \"./searchbar/Searchbar\";\nimport ImageGallery from \"./imageGallery/ImageGallery\";\nimport Button from \"./button/Button\";\nimport axios from \"axios\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./modal/Modal\";\nimport css from \"../components/App.module.css\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst KEY = \"15195208-d8c95381bc23262c5b7732742\";\nconst loaderCss = { margin: \"0 auto\" };\nlet currentquery;\nclass App extends Component {\n  state = {\n    articles: [],\n    isModalOpen: false,\n    loading: true,\n    currentImage: \"\",\n    per_page: 12,\n    page: 1\n  };\n  openModal = () => this.setState({ isModalOpen: true });\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  fetchArticles = async (page = 1, query) => {\n    if (query) {\n      currentquery = query;\n    }\n    try {\n      const data = await axios.get(\n        `${BASE_URL}?q=${currentquery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n      );\n      return data.data.hits;\n    } catch (error) {\n      console.log(\"this error -\", error);\n      throw new Error(error);\n    }\n  };\n\n  transform = data =>\n    data.map(elem => ({\n      id: elem.id, //уникальный идентификатор\n      smallImage: elem.webformatURL, //ссылка на маленькое изображение для списка карточек\n      largeImage: elem.largeImageURL //ссылка на большое изображение для модального окна\n    }));\n\n  componentDidMount() {\n    const { page } = this.state;\n    this.handleFetchGallery(page, \"all\");\n  }\n\n  handleFetchGallery = async (page, query) => {\n    try {\n      const data = await this.fetchArticles(page, query);\n      this.setState({ articles: this.transform(data), isLoading: false });\n    } catch (error) {\n      this.setState({ error });\n      console.log(error);\n    }\n\n    window.addEventListener(\"keydown\", this.handleKeyPress);\n  };\n\n  handleButton = async () => {\n     this.setState({ isLoading: true });\n\n     const nextPage = this.state.page + 1;\n     const data = await this.fetchArticles(nextPage);\n\n     this.setState(prevState => {\n       return {\n         articles: [...prevState.articles, ...this.transform(data)],\n         page: nextPage,\n         isLoading: false\n       };\n     });\n  };\n\n  handleClickBox = e => {\n    const { articles } = this.state;\n    const fined = articles.find(\n      elem => parseInt(elem.id) === parseInt(e.target.id)\n    );\n\n    if (fined) {\n      this.setState({ currentImage: fined.largeImage });\n      this.openModal();\n    }\n  };\n\n  handleKeyPress = e => {\n    if (e.code !== \"Escape\") return;\n    this.closeModal();\n  };\n\n  handleBackdropClick = e => e.target === e.currentTarget && this.closeModal();\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\n  }\n\n  render() {\n    const loadMore = this.handleButton;\n    const { articles, isLoading, isModalOpen, currentImage } = this.state;\n    return (\n      <div className={css.App} onClick={this.handleClickBox}>\n        <Searchbar onSubmit={this.handleFetchGallery} />\n        {articles.length > 0 && <ImageGallery arr={articles} />}\n        {isLoading && (\n          <Loader\n            style={loaderCss}\n            type=\"ThreeDots\"\n            color=\"#somecolor\"\n            height={80}\n            width={80}\n          />\n        )}\n        {articles.length > 0 && <Button onClickButton={loadMore} />}\n        {isModalOpen && (\n          <Modal\n            onClose={this.closeModal}\n            onClick={this.handleBackdropClick}\n            reference={currentImage}\n          />\n        )}\n      </div>\n    );\n  }\n}\nexport default App;\n","/* eslint-disable no-unused-expressions */\r\nimport React, { Component } from \"react\";\r\nimport css from \"../searchbar/Searchbar.module.css\";\r\nclass Searchbar extends Component {\r\n  state = { query: \"\" };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(1, this.state.query);\r\n    this.setState({ query: \"\" });\r\n    e.target.children[1].value = \"\";\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <>\r\n        <header className={css.Searchbar}>\r\n          <form className={css.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={css.SearchFormButton}>\r\n              <span className={css.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n            <input\r\n              className={css.SearchFormInput}\r\n              type=\"text\"\r\n              value={query}\r\n              onChange={this.handleChange}\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from \"react\";\r\nimport css from \"../imageGalleryItem/ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ item }) => {\r\n  // console.log(item);\r\n  const { smallImage, tags, id } = item;\r\n  return (\r\n    <>\r\n      <li className={css.ImageGalleryItem}>\r\n        <img\r\n          id={id}\r\n          src={smallImage}\r\n          alt={tags}\r\n          className={css.ImageGalleryItemImage}\r\n        />\r\n      </li>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\nimport css from \"../imageGallery/ImageGallery.module.css\";\r\nimport shortid from \"shortid\";\r\n\r\nconst ImageGallery = ({ arr }) => {\r\n  return (\r\n    <>\r\n      <ul className={css.ImageGallery}>\r\n        {arr.map(elem => (\r\n          <ImageGalleryItem key={shortid.generate()} item={elem} />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport css from \"../button/Button.module.css\";\r\nconst Button = ({ onClickButton }) => {\r\n  return (\r\n    <>\r\n      <button onClick={onClickButton} type=\"button\" className={css.Button}>\r\n        Load more\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport css from '../modal/Modal.module.css';\r\n\r\nconst Modal = ({ onClick, reference }) => {\r\n  return (\r\n    <>\r\n      <div className={css.Overlay} onClick={onClick}>\r\n        <div className={css.Modal}>\r\n          <img src={reference} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n// import * as basicLightbox from \"basiclightbox\";\r\n\r\n// const instance = basicLightbox.create(`\r\n//     <img src=\"assets/images/image.png\" width=\"800\" height=\"600\">\r\n// `);\r\n\r\n// instance.show();\r\n\r\nexport default Modal;","import React from 'react';\nimport ReactDOM from \"react-dom\";\nimport App from './components/App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}